---
phase: 11-按鈕與狀態標籤遷移
plan: 07
type: checkpoint
wave: 3
depends_on: ["11-02", "11-03", "11-04", "11-05", "11-06"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "所有 5 個頁面的按鈕遷移完成且功能正常"
    - "所有狀態標籤顯示正確顏色"
    - "桌面版和手機版樣式都正確"
    - "所有 Vue 功能正常運作"
  artifacts: []
  key_links: []
---

<objective>
驗證 Phase 11 所有頁面的按鈕與狀態標籤遷移

Purpose: 確保遷移後的按鈕和狀態標籤在所有頁面都正常運作
Output: 驗證報告，確認 Phase 11 完成
</objective>

<execution_context>
@/Users/fishtv/.claude/get-shit-done/workflows/execute-plan.md
@/Users/fishtv/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/11-按鈕與狀態標籤遷移/11-CONTEXT.md
@.planning/phases/11-按鈕與狀態標籤遷移/11-02-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移/11-03-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移/11-04-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移/11-05-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移/11-06-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: 自動化驗證（grep 檢查）</name>
  <files></files>
  <action>
執行自動化檢查確認遷移完成：

**1. Legacy classes 清除檢查**:
```bash
# 所有頁面應該沒有 buygo-btn legacy classes
for file in shipment-products shipment-details orders products settings; do
  echo "=== $file.php ==="
  grep -c "buygo-btn" /Users/fishtv/Development/buygo-plus-one-dev/admin/partials/$file.php || echo "Clean"
done
```

**2. 設計系統 classes 使用檢查**:
```bash
# 確認 btn classes 已添加
for file in shipment-products shipment-details orders products settings; do
  echo "=== $file.php btn count ==="
  grep -c "btn btn-" /Users/fishtv/Development/buygo-plus-one-dev/admin/partials/$file.php
done
```

**3. 狀態標籤 classes 檢查**:
```bash
# 確認 status-tag classes（排除 settings.php，該頁面無狀態標籤）
for file in shipment-products shipment-details orders products; do
  echo "=== $file.php status-tag count ==="
  grep -c "status-tag" /Users/fishtv/Development/buygo-plus-one-dev/admin/partials/$file.php
done
```

**4. 桌面版 icon-only 按鈕未修改檢查（products.php）**:
```bash
# 確認桌面版 icon-only 按鈕仍使用 inline Tailwind
grep -c "text-blue-600.*hover:bg-blue-50" /Users/fishtv/Development/buygo-plus-one-dev/admin/partials/products.php
```

**5. Vue directives 保留檢查**:
```bash
for file in shipment-products shipment-details orders products settings; do
  echo "=== $file.php @click count ==="
  grep -c "@click" /Users/fishtv/Development/buygo-plus-one-dev/admin/partials/$file.php
done
```
  </action>
  <verify>所有自動化檢查通過</verify>
  <done>自動化驗證完成，所有檢查通過</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 11 按鈕與狀態標籤遷移完成：
- 5 個頁面的按鈕遷移到 .btn classes
- 狀態標籤遷移到 .status-tag classes
- 桌面版和手機版樣式
  </what-built>
  <how-to-verify>
請在 https://test.buygo.me/wp-admin/ 測試以下頁面：

**1. 出貨商品頁 (shipment-products.php)**
- [ ] 「重新載入」按鈕樣式正確（藍底白字）
- [ ] 「合併」按鈕樣式正確
- [ ] 「轉出貨」按鈕可點擊且功能正常
- [ ] 狀態標籤顏色正確（備貨中=黃色，已出貨=綠色）
- [ ] 手機版按鈕樣式正確

**2. 出貨明細頁 (shipment-details.php)**
- [ ] 批次操作按鈕（標記已出貨、移至存檔）樣式正確
- [ ] 「查看」「出貨」按鈕可點擊
- [ ] Tab 切換按鈕保持原有樣式
- [ ] 狀態標籤顏色正確
- [ ] 手機版卡片按鈕樣式正確

**3. 訂單頁 (orders.php)**
- [ ] 批次轉備貨按鈕（藍底白字）
- [ ] 批次刪除按鈕（紅色）
- [ ] 狀態指示標籤顏色正確（備貨中=黃色，待出貨=藍色，已出貨=綠色）
- [ ] 父子訂單功能正常
- [ ] 手機版卡片按鈕樣式正確

**4. 商品頁 (products.php)**
- [ ] 批次刪除按鈕（紅色）
- [ ] 狀態切換按鈕可點擊且切換功能正常（已上架=綠色，已下架=灰色）
- [ ] **桌面版表格 icon-only 按鈕保持原有樣式（未遷移）**
- [ ] 手機版卡片操作按鈕（分配=藍色，編輯=灰色，刪除=紅色）
- [ ] 子頁面（編輯、分配）的取消/儲存按鈕樣式正確
- [ ] Grid View 未被修改

**5. 設定頁 (settings.php)**
- [ ] 所有儲存/取消按鈕樣式正確
- [ ] Portal 按鈕保持原有樣式
- [ ] LINE 設定功能正常
- [ ] 模板編輯器功能正常

**響應式測試（Chrome DevTools）**:
- [ ] 各頁面手機版佈局正確
- [ ] 按鈕在手機版可正常點擊
- [ ] 狀態標籤在手機版顯示正確
  </how-to-verify>
  <resume-signal>
測試完成後回報：
- 輸入「approved」表示所有項目通過
- 或描述發現的問題，我們會建立修復計劃
  </resume-signal>
</task>

</tasks>

<verification>
Phase 11 完成標準：
1. 所有自動化檢查通過
2. 人工驗證通過
</verification>

<success_criteria>
- [ ] 自動化 grep 檢查全部通過
- [ ] 5 個頁面的按鈕功能正常
- [ ] 狀態標籤顏色語義正確
- [ ] 桌面版和手機版樣式都正確
- [ ] 所有 Vue 功能正常運作
- [ ] 用戶確認「approved」
</success_criteria>

<output>
After completion, create `.planning/phases/11-按鈕與狀態標籤遷移/11-07-SUMMARY.md`

Phase 11 完成後，更新 STATE.md 並準備進入下一個 Phase。
</output>
