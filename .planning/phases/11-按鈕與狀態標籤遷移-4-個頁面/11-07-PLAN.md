---
phase: 11-按鈕與狀態標籤遷移-4-個頁面
plan: 07
type: execute
wave: 3
depends_on: ["11-02", "11-03", "11-04", "11-05", "11-06"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "所有頁面的按鈕使用設計系統 classes"
    - "所有頁面的狀態標籤使用設計系統 classes"
    - "所有頁面的功能正常運作"
    - "桌面版和手機版樣式都正確"
  artifacts: []
  key_links: []
---

<objective>
驗證 Phase 11 遷移完成，確認所有按鈕和狀態標籤功能正常

Purpose: 確保遷移沒有破壞現有功能，所有頁面的 UI 一致
Output: 驗證報告和任何需要修復的問題清單
</objective>

<execution_context>
@/Users/fishtv/.claude/get-shit-done/workflows/execute-plan.md
@/Users/fishtv/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/11-按鈕與狀態標籤遷移-4-個頁面/11-CONTEXT.md
@.planning/phases/11-按鈕與狀態標籤遷移-4-個頁面/11-01-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移-4-個頁面/11-02-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移-4-個頁面/11-03-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移-4-個頁面/11-04-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移-4-個頁面/11-05-SUMMARY.md
@.planning/phases/11-按鈕與狀態標籤遷移-4-個頁面/11-06-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: 程式碼層面驗證</name>
  <files></files>
  <action>
執行以下檢查確認遷移完成：

1. **確認無遺漏的 legacy classes**:
```bash
echo "=== 檢查 buygo-btn 舊 classes ==="
for file in shipment-products.php shipment-details.php orders.php products.php settings.php; do
    count=$(grep -c "buygo-btn" admin/partials/$file 2>/dev/null || echo "0")
    echo "$file: $count 個 buygo-btn"
done
```

2. **確認新 classes 已套用**:
```bash
echo "=== 檢查 btn classes ==="
for file in shipment-products.php shipment-details.php orders.php products.php settings.php; do
    count=$(grep -c "btn btn-" admin/partials/$file 2>/dev/null || echo "0")
    echo "$file: $count 個 btn classes"
done
```

3. **確認 status-tag classes 已套用**:
```bash
echo "=== 檢查 status-tag classes ==="
for file in shipment-products.php shipment-details.php orders.php products.php; do
    count=$(grep -c "status-tag" admin/partials/$file 2>/dev/null || echo "0")
    echo "$file: $count 個 status-tag classes"
done
```

4. **確認設計系統檔案完整**:
```bash
echo "=== 檢查設計系統 ==="
grep -c "btn-danger" design-system/components/button.css
grep -c "status-tag-danger" design-system/components/status-tag.css
```
  </action>
  <verify>
所有 buygo-btn 計數應為 0，btn classes 和 status-tag 計數應大於 0
  </verify>
  <done>程式碼層面驗證完成，無遺漏的 legacy classes</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Phase 11 按鈕與狀態標籤遷移完成</what-built>
  <how-to-verify>
請在瀏覽器中測試以下頁面和功能：

**1. 備貨頁面 (shipment-products.php)**
URL: https://test.buygo.me/wp-admin/admin.php?page=buygo-shipment-products

測試項目：
- [ ] 重新載入按鈕樣式正確（藍色主要按鈕）
- [ ] 合併按鈕樣式正確（桌面版和手機版）
- [ ] 轉出貨按鈕功能正常
- [ ] 狀態標籤顏色正確（備貨中=黃色，已出貨=綠色）

**2. 出貨明細頁面 (shipment-details.php)**
URL: https://test.buygo.me/wp-admin/admin.php?page=buygo-shipment-details

測試項目：
- [ ] Tab 切換功能正常（保持 Phase 10 樣式）
- [ ] 查看/出貨按鈕樣式正確
- [ ] 批次操作按鈕功能正常
- [ ] 狀態標籤顏色正確

**3. 訂單頁面 (orders.php)**
URL: https://test.buygo.me/wp-admin/admin.php?page=buygo-orders

測試項目：
- [ ] 批次操作按鈕樣式正確（轉備貨=藍色，刪除=紅色）
- [ ] 狀態下拉選單功能正常（互動式選單）
- [ ] 轉備貨按鈕功能正常
- [ ] 父子訂單展開/收起功能正常
- [ ] 狀態指示標籤顏色正確

**4. 商品頁面 (products.php)**
URL: https://test.buygo.me/wp-admin/admin.php?page=buygo-products

測試項目：
- [ ] 批次刪除按鈕樣式正確（紅色）
- [ ] 狀態切換按鈕功能正常（點擊可切換上架/下架）
- [ ] Table View 操作按鈕樣式正確
- [ ] Grid View 未受影響
- [ ] 子頁面（編輯/分配/下單名單）按鈕樣式正確

**5. 設定頁面 (settings.php)**
URL: https://test.buygo.me/wp-admin/admin.php?page=buygo-settings

測試項目：
- [ ] 儲存/取消按鈕樣式正確
- [ ] Portal 按鈕保持原有樣式
- [ ] LINE 設定功能正常
- [ ] 模板編輯功能正常

**響應式測試**：
- [ ] 所有頁面在桌面版（>768px）樣式正確
- [ ] 所有頁面在手機版（<768px）樣式正確
  </how-to-verify>
  <resume-signal>
完成測試後，請回報：
- 如果全部通過：輸入 "approved"
- 如果有問題：描述發現的問題
  </resume-signal>
</task>

</tasks>

<verification>
Phase 11 驗證清單：

**設計系統**
- [ ] .btn-danger class 存在且正確
- [ ] .status-tag-danger class 存在且正確

**shipment-products.php**
- [ ] 無 buygo-btn legacy classes
- [ ] 按鈕使用 btn classes
- [ ] 狀態標籤使用 status-tag classes

**shipment-details.php**
- [ ] 無 buygo-btn legacy classes
- [ ] 按鈕使用 btn classes
- [ ] 狀態標籤使用 status-tag classes
- [ ] Tab 按鈕保持 Phase 10 樣式

**orders.php**
- [ ] 按鈕使用 btn classes
- [ ] 狀態指示使用 status-tag classes
- [ ] 狀態下拉選單保持原有功能

**products.php**
- [ ] 按鈕使用 btn classes
- [ ] 狀態切換使用 status-tag classes
- [ ] Grid View 未被修改

**settings.php**
- [ ] 無 buygo-btn legacy classes
- [ ] 按鈕使用 btn classes
- [ ] Portal 按鈕保持原有樣式
</verification>

<success_criteria>
- [ ] 所有頁面的 buygo-btn legacy classes 已清除
- [ ] 所有頁面的按鈕使用設計系統 .btn classes
- [ ] 所有頁面的狀態標籤使用設計系統 .status-tag classes
- [ ] 所有功能正常運作（轉備貨、批次操作、狀態切換等）
- [ ] 桌面版和手機版樣式都正確
- [ ] 人工驗證通過
</success_criteria>

<output>
After completion, create `.planning/phases/11-按鈕與狀態標籤遷移-4-個頁面/11-07-SUMMARY.md` with:
- 驗證結果摘要
- 任何發現的問題和修復情況
- Phase 11 完成確認
</output>
