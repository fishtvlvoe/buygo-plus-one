# AI Writer 工作流程 SOP

完整的 5 階段寫作流程，每個階段都有詳細的執行步驟。

---

## 階段 0：輸入解析

### 目標
理解使用者需求，收集必要資訊。

### 執行步驟

```
1. 接收使用者輸入
2. 判斷輸入類型（見下表）
3. 提取已知資訊
4. 補齊缺失資訊
```

### 輸入類型判斷

| 輸入長度 | 類型 | 處理方式 |
|---------|-----|---------|
| 1-5 字 | 關鍵字 | 必須詢問補充資訊 |
| 6-50 字 | 簡短描述 | 可能需要確認平台 |
| 50+ 字 | 完整 Brief | 直接解析進入大綱 |

### 必須收集的資訊

1. **主題**：文章核心內容
2. **平台**：部落格/FB/IG/LinkedIn/Email
3. **目標讀者**（可選）：年齡層、職業、興趣
4. **文章目的**（可選）：導購/品牌認知/教育/互動
5. **字數**（可選）：使用平台預設值

### 詢問範例

當資訊不足時，使用 AskUserQuestion：

```
問題 1：這篇文章要發佈在哪個平台？
選項：
- 部落格（1000-2000字，適合深度內容）
- Facebook（100-300字，適合互動）
- Instagram（50-150字，視覺搭配）
- LinkedIn（200-500字，專業內容）
- Email（300-600字，直接溝通）

問題 2：這篇文章的主要目的是？
選項：
- 導購（推廣產品/服務）
- 品牌（建立形象/信任）
- 教育（分享知識/技巧）
- 互動（引發討論/參與）
```

---

## 階段 1：大綱生成

### 目標
產出結構清晰的文章大綱，等待使用者確認。

### 執行步驟

```
1. 根據平台選擇模板（見 TEMPLATES.md）
2. 填入主題和重點
3. 設定預計字數
4. 輸出大綱
5. 等待使用者確認
```

### 大綱輸出格式

```markdown
## 📝 文章大綱

**主題**：[主題名稱]
**平台**：[目標平台]
**預計字數**：[字數範圍]
**目標讀者**：[讀者描述]

---

### 結構

**1. 開頭 Hook** （吸引注意，約 X 字）
   - [具體的開場方式]
   - [要傳達的情緒/問題]

**2. 主體內容**
   - 2.1 [重點一標題]
     - [要點說明]
   - 2.2 [重點二標題]
     - [要點說明]
   - 2.3 [重點三標題]
     - [要點說明]

**3. 結尾 CTA** （行動呼籲，約 X 字）
   - [具體的 CTA 內容]
   - [期望的讀者行動]

---

請確認大綱，或告訴我需要調整的地方：
- ✅ 確認，開始寫作
- ✏️ 修改某個段落
- 🔄 重新生成大綱
```

### 審核處理

| 使用者回應 | 處理方式 |
|-----------|---------|
| 確認/OK/好 | 進入階段 2 |
| 修改 X | 調整指定部分，重新顯示大綱 |
| 重新生成 | 從頭生成新大綱 |
| 其他要求 | 理解並調整 |

---

## 階段 2：草稿撰寫

### 目標
根據確認的大綱，撰寫完整文章草稿。

### 執行步驟

```
1. 載入確認的大綱
2. 參考 STYLES.md 選擇語氣風格
3. 依序撰寫各段落
4. 套用平台特定格式
5. 計算字數
6. 輸出草稿
7. 等待使用者審核
```

### 草稿輸出格式

```markdown
## 📄 草稿預覽

---

[完整文章內容，包含所有段落]

---

### 草稿資訊
- **字數**：XXX 字
- **預估閱讀時間**：X 分鐘
- **語氣風格**：[使用的風格]

---

請審閱草稿，或告訴我需要修改的地方：
- ✅ 滿意，進入定稿
- ✏️ 修改特定段落（請指出哪段）
- 🎨 調整語氣風格（更活潑/更專業/更親切）
- 📏 調整長度（更長/更短/精簡某段）
```

### 審核處理

| 使用者回應 | 處理方式 |
|-----------|---------|
| 滿意/OK | 進入階段 3 |
| 修改第 X 段 | 重寫指定段落 |
| 語氣調整 | 參考 STYLES.md 調整 |
| 長度調整 | 擴充或精簡內容 |

---

## 階段 3：定稿潤飾

### 目標
最終潤飾，產出可直接使用的文章。

### 執行步驟

```
1. 載入審核通過的草稿
2. 檢查並修正錯別字
3. 優化標點符號使用
4. 強化開頭吸引力
5. 確認 CTA 明確有力
6. 最終字數檢查
7. 輸出定稿
8. 等待最終確認
```

### 潤飾檢查清單

- [ ] 錯別字修正
- [ ] 標點符號正確
- [ ] 段落長度適中
- [ ] 開頭足夠吸引人
- [ ] CTA 明確具體
- [ ] 符合平台特性
- [ ] 字數在目標範圍內

### 定稿輸出格式

```markdown
## ✅ 定稿完成

---

[最終文章內容]

---

### 文章資訊
- **平台**：[目標平台]
- **字數**：XXX 字
- **語氣**：[語氣風格]
- **閱讀時間**：X 分鐘

---

定稿完成！請選擇：
- ✅ 完成（直接複製使用）
- ✏️ 還要微調（請說明）
- 💾 儲存到檔案
```

---

## 階段 4：儲存輸出

### 目標
根據使用者選擇，儲存或輸出文章。

### 執行步驟

```
1. 詢問是否儲存
2. 如果是，詢問儲存位置
3. 生成檔名
4. 儲存檔案
5. 確認完成
```

### 儲存詢問

```markdown
是否要儲存文章到檔案？
1. 💾 儲存到 ./articles/ （預設位置）
2. 📁 儲存到其他位置（請指定路徑）
3. 📋 不儲存，我直接複製
4. 🔄 生成其他平台版本
```

### 檔名格式

```
YYYY-MM-DD-[主題簡稱]-[平台].md

範例：
2026-01-22-咖啡好處-FB.md
2026-01-22-新品上市-Email.md
```

### 儲存確認

```markdown
✅ 文章已儲存

**位置**：./articles/2026-01-22-咖啡好處-FB.md

還需要其他協助嗎？
- 🔄 生成其他平台版本
- ✏️ 撰寫新文章
- 👋 完成
```

---

## 流程圖

```
┌─────────────────┐
│   使用者輸入     │
└────────┬────────┘
         ▼
┌─────────────────┐
│  階段 0：解析    │ ← 資訊不足則詢問
└────────┬────────┘
         ▼
┌─────────────────┐
│ 階段 1：大綱生成 │ ← 🔄 等待審核
└────────┬────────┘
         ▼
┌─────────────────┐
│ 階段 2：草稿撰寫 │ ← 🔄 等待審核
└────────┬────────┘
         ▼
┌─────────────────┐
│ 階段 3：定稿潤飾 │ ← 🔄 等待審核
└────────┬────────┘
         ▼
┌─────────────────┐
│ 階段 4：儲存輸出 │ ← 詢問是否儲存
└─────────────────┘
```

---

## 注意事項

1. **每個審核點必須暫停**，等待使用者明確確認
2. **不要跳過階段**，即使使用者說「快點」
3. **保持彈性**，理解使用者的各種表達方式
4. **記住上下文**，修改時參考之前的內容
5. **適時提供建議**，但尊重使用者決定
